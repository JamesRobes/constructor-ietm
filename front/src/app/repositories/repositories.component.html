<div class="repositories">
  <div class="repositories__list">
    <a
      class="repository"
      *ngFor="let repository of repositories"
      [routerLink]="'/repository/' + repository._id"
    >
      <img
        class="repository__image"
        appImageSanitized
        [imagePath]="repository.preview || ''"
        [defaultImage]="'assets/svg/repositoryPreview.svg'"
        [alt]="'Репозиторий ' + repository.title"
      />
      <div class="repository__content">
        <div class="repository__header">
          <div class="repository__header-column">
            <div class="repository__header-title-wrapper">
              <img
                class="repository__type"
                [src]="
                  repository.type === getRepositoryTypeEnum().Public
                    ? 'assets/svg/publicRepository.svg'
                    : 'assets/svg/privateRepository.svg'
                "
                [alt]="
                  repository.type === getRepositoryTypeEnum().Public ? 'Публичный' : 'Приватный'
                "
              />
              <h2 class="repository__title">{{ repository.title }}</h2>
            </div>
            <div class="repository__author">
              <img
                class="repository__author-avatar"
                appImageSanitized
                [imagePath]="repository.author.avatar || ''"
                [defaultImage]="'assets/svg/avatar.svg'"
                [alt]="'аватар ' + repository.author.login"
              />
              <span class="repository__author-text">{{ repository.author.login }}</span>
              <span
                class="repository__author-text"
                *ngIf="repository.author.firstName && repository.author.lastName"
                >{{ getAuthorLastFirsName(repository.author) }}</span
              >
            </div>
          </div>
          <div class="repository__header-column">
            <div class="repository__date">
              <img
                class="repository__date-img"
                src="assets/svg/dateEdit.svg"
                alt="дата изменения"
              />
              <span class="repository__date-text">{{
                repository.updatedAt | date: 'dd.MM.yyyy'
              }}</span>
            </div>
            <div class="repository__date">
              <img
                class="repository__date-img"
                src="assets/svg/dateCreate.svg"
                alt="дата создания"
              />
              <span class="repository__date-text">{{
                repository.createdAt | date: 'dd.MM.yyyy'
              }}</span>
            </div>
          </div>
        </div>
        <div class="repository__description">
          {{ repository.description }}
        </div>
      </div>
    </a>
  </div>
</div>
