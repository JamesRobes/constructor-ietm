<div class="repository">
  <div class="repository__header">
    <div class="repository__title-wrapper">
      <img
        class="repository__type"
        [src]="
          repository.type === getRepositoryTypeEnum().Public
            ? 'assets/svg/publicRepository.svg'
            : 'assets/svg/privateRepository.svg'
        "
        [alt]="repository.type === getRepositoryTypeEnum().Public ? 'Публичный' : 'Приватный'"
      />
      <h2 class="repository__title">{{ repository.title }}</h2>
    </div>
    <div class="repository__author">
      <img
        class="repository__author-avatar"
        appImageSanitized
        [imagePath]="repository.author.avatar || ''"
        [defaultImage]="'assets/svg/avatar.svg'"
        [alt]="'аватар ' + repository.author.login"
      />
      <span class="repository__author-username">{{ repository.author.login }}</span>
    </div>
    <div class="repository__dates">
      <div class="repository__date">
        <img class="repository__date-img" src="assets/svg/dateEdit.svg" alt="дата изменения" />
        <span class="repository__date-text">{{ repository.updatedAt | date: 'dd.MM.yyyy' }}</span>
      </div>
      <div class="repository__date">
        <img class="repository__date-img" src="assets/svg/dateCreate.svg" alt="дата создания" />
        <span class="repository__date-text">{{ repository.createdAt | date: 'dd.MM.yyyy' }}</span>
      </div>
    </div>
  </div>
  <div class="repository__tabs">
    <a
      class="repository__tab"
      [routerLink]="'/repository/' + repository._id"
      routerLinkActive="repository__tab_active"
      >Описание</a
    >
    <a
      class="repository__tab"
      [routerLink]="'/repository/' + repository._id + '/manuals'"
      routerLinkActive="repository__tab_active"
      >Руководства</a
    >
    <a
      class="repository__tab"
      [routerLink]="'/repository/' + repository._id + '/tree'"
      routerLinkActive="repository__tab_active"
      >Дерево</a
    >
    <a
      class="repository__tab"
      [routerLink]="'/repository/' + repository._id + '/files'"
      routerLinkActive="repository__tab_active"
      >Файлы</a
    >
  </div>
  <div class="repository__content">
    <div class="viewer" *ngIf="repository">
      <app-scene
        [repositoryId]="repository._id"
        [modelId]="repository.models[repository.models.length - 1]._id"
      ></app-scene>
    </div>
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
