<div class="editor-viewer">
  <div class="editor-viewer__viewer">
    <app-scene
      [viewerMouseMode]="viewerMouseMode"
      [repositoryId]="repositoryId"
      [modelId]="modelId"
      [viewMode]="false"
      (applyAnnotationPosition)="onApplyAnnotationPosition($event)"
      (viewerIsReady)="onViewerIsReady()"
    ></app-scene>
  </div>
  <div class="editor-viewer__toolbar toolbar">
    <div class="toolbar__tabs">
      <mat-tab-group (selectedTabChange)="changeTab($event)">
        <mat-tab class="toolbar__tab" label="Руководство">
          <div class="toolbar__content">
            <app-editor-manual></app-editor-manual>
          </div>
        </mat-tab>
        <mat-tab class="toolbar__tab" label="Аннотации">
          <div class="toolbar__content">
            <app-editor-annotations
              [annotations]="annotations"
              [currentAnnotation]="currentAnnotation"
              [step]="step"
              (saveAnnotation)="onSaveAnnotation($event)"
              (applyAnnotation)="onApplyAnnotation($event)"
              (deleteAnnotation)="onDeleteAnnotation($event)"
            ></app-editor-annotations>
          </div>
        </mat-tab>
        <mat-tab class="toolbar__tab" label="Дерево элементов">
          <div class="toolbar__content">
            <app-tree-elements [model]="model"></app-tree-elements>
          </div>
        </mat-tab>
      </mat-tab-group>
      <div class="toolbar__wrapper-step-buttons">
        <app-step-buttons [step]="step" (buttonClick)="onSaveInstructions()"></app-step-buttons>
      </div>
    </div>
  </div>
</div>
